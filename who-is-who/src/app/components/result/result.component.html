<div style="margin: 32px;">
    <h1 style="color:red;"><b>{{ errorMessage }}</b></h1>

    <h1><b>{{ resourceType }}</b></h1>
    <mat-divider class="divider-class"></mat-divider>
    
    <mat-card class="user-card">
        <mat-card-header>
        <div *ngIf="!hasValue(ImgUrl)" mat-card-avatar [innerHTML]="iconSVG"></div>
        <div *ngIf="hasValue(ImgUrl)" mat-card-avatar class="user-header-image" [ngStyle]="{ 'background-image': 'url(' + ImgUrl + ')'}"></div>
        <mat-card-title>{{ name }} {{ surname }}</mat-card-title>
        <mat-card-subtitle *ngIf="hasValue(email)" ><b>mail:</b> {{ email }}</mat-card-subtitle>
        <mat-card-subtitle *ngIf="hasValue(department)" ><b>department:</b> {{ department }}</mat-card-subtitle>
        <mat-card-subtitle *ngIf="hasValue(userType)" ><b>user type:</b> {{ userType }}</mat-card-subtitle>
        <mat-card-subtitle *ngIf="hasValue(groupType)" ><b>group type:</b> {{ groupType }}</mat-card-subtitle>
        <mat-card-subtitle>&nbsp;</mat-card-subtitle>
        
        </mat-card-header>
        
        <mat-card-content>
            <b>id</b>: {{rowKey}}<br/>
            <b>last update</b>: {{lastupdate}}
        </mat-card-content>

        <mat-card-actions>
        <button mat-button (click)="goDeeplink(deeplink);" style="background-color: azure;">SEE ON AZURE</button>
        <button mat-button (click)="goDeeplink(key);" *ngIf="resourceType == 'User'" style="background-color: lightgoldenrodyellow">SEE ON SERVICE NOW</button>
        </mat-card-actions>
    </mat-card>

    <related-generic-elements 
        Name="Direct User Assignments (UserInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "UserInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Resource is managed by the following users (UserInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "UserInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Resource is managed by the following groups (GroupInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "GroupInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This group manages the following Azure Resources (GroupInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "GroupInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Subscription is managed by the following users (UserInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "UserInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This User manages the following Azure Subscriptions (UserInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "UserInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Subscription is managed by the following groups (GroupInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "GroupInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This group manages the following Azure Subscriptions (GroupInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "GroupInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Subscription contains the following resource groups (ResourceGroupInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "ResourceGroupInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This resource group belong to the following Azure Subscription (ResourceGroupInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "ResourceGroupInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This subscription have the following tags (TagInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "TagInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This tag is associated to the following Azure subscriptions (TagInSubscription)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "TagInSubscription"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This resource group is managed by the following users (UserInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "UserInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This user manages to the following Azure resource groups (UserInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "UserInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This resource group is managed by the following groups (GroupInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "GroupInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This group manages to the following Azure resource groups (GroupInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "GroupInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This resource group contains the following Azure resources (ResourceInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "ResourceInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Azure resource is inside the following ResourceGroup (ResourceInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "ResourceInResourceGroup"
        ></related-generic-elements>
    
    <related-generic-elements 
        Name="This resource group is associated to the following tags (TagInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "TagInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This tag is associated to the following Azure resource groups (TagInResourceGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "TagInResourceGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This resourceis associated to the following tags (TagInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "TagInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This tag is associated to the following Azure resources (TagInResource)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "TagInResource"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This group contains the following users (UserInGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "UserInGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This user is inside the following groups (UserInGroup)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "UserInGroup"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Azure Application is managed by the following users (UserInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "UserInApplication"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This user manages the following Azure AD applications (UserInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "UserInApplication"
        ></related-generic-elements>
    
    <related-generic-elements 
        Name="This Azure Application is managed by the following groups (GroupInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "GroupInApplication"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This group manages the following Azure AD applications (GroupInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "GroupInApplication"
        ></related-generic-elements>
    
    <related-generic-elements 
        Name="This Azure AD Application has associated the following Azure tags (TagInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Parent"

        CorelationType = "TagInApplication"
        ></related-generic-elements>

    <related-generic-elements 
        Name="This Azure tag is associated to the following Azure AD applications (TagInApplication)" 

        [PartitionKey]="partitionKey"
        [RowKey]="rowKey"
        KeyIs="Child"

        CorelationType = "TagInApplication"
        ></related-generic-elements>
